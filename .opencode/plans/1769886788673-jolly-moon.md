# Fork Watcher Implementation Plan

## Overview
Build a GitHub fork watcher application that:
1. Accepts a GitHub username input
2. Fetches all repos for that user
3. Fetches forks for each repo
4. Displays forks grouped by original repository

## File Structure

### Pages
- `/src/app/github/page.tsx` - Input page for GitHub username
- `/src/app/github/[username]/page.tsx` - Display page showing forks grouped by repo

### Components (in `/src/components/github/`)
- `UsernameInput.tsx` - Form component for entering GitHub username
- `RepoForksList.tsx` - Main component displaying repos and their forks
- `RepoCard.tsx` - Card displaying a single repo with its forks
- `ForkItem.tsx` - Individual fork display item
- `LoadingState.tsx` - Loading spinner/skeleton component
- `ErrorState.tsx` - Error display component

### Types (in `/src/types/`)
- `github.ts` - TypeScript interfaces for GitHub API responses

### Lib (in `/src/lib/`)
- `github-api.ts` - GitHub API fetch functions

## Implementation Steps

### 1. Update next.config.ts
Add image domain configuration for avatars.githubusercontent.com

### 2. Create Types
Define interfaces for:
- GitHubRepo (repository data from API)
- GitHubFork (fork data from API)
- GroupedForks (data structure for grouped display)

### 3. Create GitHub API Lib
Functions:
- `fetchUserRepos(username: string)` - Fetches repos for a user
- `fetchRepoForks(owner: string, repo: string)` - Fetches forks for a specific repo

### 4. Create Components

**UsernameInput.tsx**
- Client component with form
- Input field + submit button
- Redirects to /github/[username] on submit

**RepoForksList.tsx**
- Server component (async)
- Fetches repos and then forks for each
- Groups forks by original repo
- Renders RepoCard components

**RepoCard.tsx**
- Displays repo name, description, stats
- Shows list of ForkItem components

**ForkItem.tsx**
- Displays fork owner avatar, username, repo link
- Shows fork stats (stars, forks count)

**LoadingState.tsx**
- Skeleton UI for loading state

**ErrorState.tsx**
- Error message display with retry option

### 5. Create Pages

**/src/app/github/page.tsx**
- Simple page with UsernameInput component
- Centered layout

**/src/app/github/[username]/page.tsx**
- Async server component
- Receives username from params
- Renders RepoForksList with error boundary
- Shows loading state while fetching

## API Flow
1. User enters username â†’ redirect to /github/[username]
2. Page component calls fetchUserRepos(username)
3. For each repo, call fetchRepoForks(owner, repo.name)
4. Group results by original repo
5. Render grouped data

## Key Technical Decisions
- Use Server Components for data fetching (Next.js 16 App Router)
- Parallel fetching of forks using Promise.all
- Group forks by original repo using Map or object
- Use next/image for optimized avatar loading
- Handle GitHub API rate limits gracefully
- Error boundaries for API failures

## Testing Strategy
- Test with real GitHub username (e.g., abdellatif-temsamani)
- Verify image loading from avatars.githubusercontent.com
- Test error states with invalid usernames
- Test repos with no forks

## Dependencies
All required dependencies already installed:
- next (image optimization)
- lucide-react (icons)
- Tailwind CSS (styling)
