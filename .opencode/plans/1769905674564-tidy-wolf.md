# Fork-Watcher Ultimate UI Mode Implementation Plan

## Overview
Transform fork-watcher into a premium "cyber-y2k / chrome / matrix" experience with a configurable effects system, enhanced GitHub pages, and performance-conscious visual layers.

---

## Phase 1: UI Mode System Foundation

### 1.1 Create lib/ui-mode.ts
**New file** - Configuration and persistence for effect toggles

```typescript
// Configuration types and localStorage persistence
// - effectsIntensity: "low" | "med" | "high"
// - enableScanlines, enableNoise, enableVignette, enableGrid, enableLaser, enableChromatic, enableParticles
// - Safe hydration for App Router
// - Helper functions for deriving CSS variables from intensity
```

### 1.2 Create components/effects/UIModeControl.tsx
**New file** - Floating control panel for toggling effects

- Dropdown for intensity selection
- Toggle switches for individual effects
- Keyboard shortcut (Ctrl/Cmd + E to open)
- Uses WindowPanel for consistent styling
- Position: fixed bottom-right on mobile, top-right on desktop

### 1.3 Update EffectsLayer.tsx
**Modify** src/components/effects/EffectsLayer.tsx

- Add `mode: UIModeConfig` prop
- Make all effect layers conditional based on config
- Add intensity-based opacity scaling
- Expose CSS custom properties for intensity (--fx-opacity, --fx-blur)

---

## Phase 2: GitHub Pages Upgrade

### 2.1 Upgrade src/app/github/page.tsx
**Modify** - Enhanced hero section

- Add ChromeText headline: "Track Every Fork"
- Add animated gradient underline using conic-gradient
- Add typewriter tagline: "Monitor repository forks across the GitHub universe"
- Prominent UsernameInput with glow trail on submit
- Add keyboard shortcut hint: "Press / to focus input"
- Add command palette microcopy in TerminalBlock style
- Background: RetroGrid (slow animate) + subtle vignette

### 2.2 Create components/github/HeroSection.tsx
**New file** - Reusable hero component

- ChromeText headline with shimmer effect
- Animated gradient border underneath
- Typewriter or fade-in tagline
- Keyboard shortcut display

### 2.3 Upgrade components/github/UsernameInput.tsx
**Modify** - Enhanced input experience

- Add keyboard shortcut: "/" focuses input (useEffect + keydown listener)
- Add "glow trail" animation on submit button press
- Add command palette hint with cmd/ctrl + K style
- Add terminal-style success feedback
- Keep existing WindowPanel + NeoInput + validation

### 2.4 Upgrade src/app/github/[username]/page.tsx
**Modify** - Enhanced user results page

- Add UIModeControl to header
- Upgrade UserHeader with holographic effect
- Add stats dashboard with animated counters
- Results grid with stagger entrance animation
- Background: EffectsLayer with configured intensity

---

## Phase 3: Premium Card & List Components

### 2.5 Upgrade components/github/RepoCard.tsx
**Modify** - Holographic premium cards

- Add CSS conic-gradient animated border on hover
- Add glassy surface effect with backdrop-blur
- Add subtle parallax tilt effect on hover (CSS transform only)
- Add chrome edge styling using gradients
- Add shimmer highlight sweep animation on hover
- Add "glow pulse" behind card on focus/hover
- Stats badges with chrome styling

### 2.6 Upgrade components/github/ForkItem.tsx
**Modify** - Enhanced fork list items

- Add stagger entrance animation (delay based on index)
- Enhanced hover state with subtle lift and glow
- Add copy buttons: copy repo URL, copy username
- Add tooltip feedback on copy action
- Fork date with relative time formatting
- Status badges for fork count/stars

### 2.7 Create components/github/CopyButton.tsx
**New file** - Clipboard utility with feedback

- Icon button with copy states (idle, copied, error)
- Tooltip/Toast feedback
- Uses ChromeButton styling

### 2.8 Upgrade components/github/RepoForksList.tsx
**Modify** - Enhanced list presentation

- Add empty state with illustration/animation
- Add stats summary with animated counters
- Staggered entrance for cards
- Grid layout improvements for responsiveness

---

## Phase 4: Loading & Error States

### 2.9 Upgrade components/github/LoadingState.tsx
**Modify** - Premium skeleton loading

- Skeleton cards with animated shimmer gradient
- Terminal-style status line "Fetching repositories..."
- Animated progress indicator
- Typewriter effect for status updates
- Matrix-style binary background (optional, low opacity)

### 2.10 Upgrade components/github/ErrorState.tsx
**Modify** - Clear, helpful error UI

- Rate limit: Show cooldown timer countdown
- Add terminal-style error display with glow
- Retry button with loading state
- Back button with navigation
- Clear error messaging with action suggestions

### 2.11 Create components/github/EmptyState.tsx
**New file** - Onboarding for new users

- Friendly illustration/message
- Quick tips in TerminalBlock style
- Suggested usernames to try
- CTA to go back and search

---

## Phase 5: New Effect Components

### 3.1 Create components/effects/RetroGridBackground.tsx
**New file** - Enhanced grid with intensity scaling

- Uses existing RetroGrid
- Animate opacity based on intensity
- CSS perspective animation
- Optional: Slow drift animation

### 3.2 Create components/effects/ConicBorder.tsx
**New file** - Animated conic gradient border

- CSS @property for smooth rotation
- Masked to create thin border effect
- Configurable colors (chrome/jungle gradient)
- Trigger on hover or always animate (based on intensity)

### 3.3 Create components/effects/ShimmerCard.tsx
**New file** - Shimmer sweep effect

- Gradient sweep animation on hover
- Uses CSS clip-path or mask
- Performance-safe (CSS only)

### 3.4 Create components/effects/GlowPulse.tsx
**New file** - Pulsing glow behind elements

- CSS animation for box-shadow pulse
- Configurable color and intensity
- Only active on "high" intensity

### 3.5 Create components/effects/ParticleField.tsx
**New file** - Optional particle layer (high intensity only)

- Pure CSS particles using radial gradients
- Throttled requestAnimationFrame fallback
- Respects prefers-reduced-motion
- Only renders if intensity === "high"

### 3.6 Create components/effects/ChromaticAccent.tsx
**New file** - Chromatic aberration for accents only

- Not full-screen, only on specific elements
- RGB channel offset on hover
- Subtle effect (2-3px offset max)

---

## Phase 6: Design System Utilities

### 4.1 Update src/app/globals.css
**Modify** - Add surface utilities and intensity variables

New utilities to add:
```css
/* Surface utilities */
.surface-card { @apply bg-card border border-border/50 backdrop-blur-sm; }
.surface-panel { @apply bg-popover border border-border shadow-lg; }
.surface-glass { @apply bg-background/80 backdrop-blur-md border border-border/30; }

/* Chrome border */
.border-chrome { 
  border-image: linear-gradient(135deg, var(--color-chrome), var(--color-chrome-dark), var(--color-chrome)) 1;
}

/* Gradient border */
.border-gradient {
  position: relative;
  background: linear-gradient(var(--color-card), var(--color-card)) padding-box,
              linear-gradient(135deg, var(--color-jungle), var(--color-chrome)) border-box;
  border: 1px solid transparent;
}

/* Intensity variables (dynamic via JS) */
--fx-opacity: 0.3;  /* scales with intensity */
--fx-blur: 0px;     /* scales with intensity */
--fx-animation-speed: 1; /* 0.5 = slow, 1 = normal, 2 = fast */
```

### 4.2 Update lib/utils.ts
**Modify** - Add helpers

```typescript
// Clamp helper for intensity scaling
export function scaleValue(value: number, intensity: "low" | "med" | "high"): number {
  const multipliers = { low: 0.5, med: 1, high: 1.5 };
  return value * multipliers[intensity];
}

// Reduced motion check
export function prefersReducedMotion(): boolean {
  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;
}

// Existing cn() stays
```

### 4.3 Create lib/animations.ts
**New file** - Centralized animation variants

```typescript
// Framer-motion style variants (or CSS keyframe refs)
// Stagger delays
// Entrance animations
// Reduced motion fallbacks
```

---

## Phase 7: Accessibility & Performance

### 5.1 Accessibility Requirements

All new components must:
- [ ] Support keyboard navigation (Tab, Enter, Escape)
- [ ] Have visible focus indicators (ring-2 ring-primary)
- [ ] Include ARIA labels where needed
- [ ] Respect prefers-reduced-motion media query
- [ ] Maintain 4.5:1 contrast ratio minimum

### 5.2 Performance Requirements

- [ ] Use CSS transforms/opacity only (no layout thrash)
- [ ] Dynamic imports for heavy effects (next/dynamic)
- [ ] will-change on animated elements
- [ ] Throttle particle animations to 30fps
- [ ] Lazy load below-fold content
- [ ] Use CSS containment where appropriate

---

## File Changes Summary

### New Files (12)
1. src/lib/ui-mode.ts
2. src/lib/animations.ts
3. src/components/effects/UIModeControl.tsx
4. src/components/effects/RetroGridBackground.tsx
5. src/components/effects/ConicBorder.tsx
6. src/components/effects/ShimmerCard.tsx
7. src/components/effects/GlowPulse.tsx
8. src/components/effects/ParticleField.tsx
9. src/components/effects/ChromaticAccent.tsx
10. src/components/github/HeroSection.tsx
11. src/components/github/CopyButton.tsx
12. src/components/github/EmptyState.tsx

### Modified Files (9)
1. src/app/globals.css
2. src/lib/utils.ts
3. src/components/effects/EffectsLayer.tsx
4. src/app/github/page.tsx
5. src/app/github/[username]/page.tsx
6. src/components/github/UsernameInput.tsx
7. src/components/github/RepoCard.tsx
8. src/components/github/ForkItem.tsx
9. src/components/github/RepoForksList.tsx
10. src/components/github/LoadingState.tsx
11. src/components/github/ErrorState.tsx

---

## Implementation Order

**Phase 1**: UI Mode system (files 1-3)
**Phase 2**: Design system utilities (files 1-2 modified, file 3 new)
**Phase 3**: Effects components (files 4-9 new)
**Phase 4**: GitHub page upgrades (files 4-5 modified, file 10 new)
**Phase 5**: GitHub components upgrade (files 6-11 modified, files 11-12 new)
**Phase 6**: Polish & testing

---

## Verification Steps

1. Run TypeScript compiler: `npx tsc --noEmit`
2. Check all imports resolve
3. Verify localStorage persistence works
4. Test keyboard shortcuts: "/" to focus input, "Ctrl+E" for mode panel
5. Test reduced motion: Effects should disable/reduce
6. Test responsive: Mobile layout clean, no overflow
7. Test performance: No jank on 60fps animations
8. Verify GitHub API calls still work
9. Test rate limiter displays correctly
10. Check contrast ratios meet WCAG 2.1 AA

---

## Style Guidelines

**Theme**: "Cyberpunk terminal meets premium product landing page"
- Primary: Jungle green (145 OKLCH hue)
- Accents: Chrome/silver gradients
- Dark mode: OKLCH 0.08-0.14 backgrounds
- Text: High contrast, readable
- Effects: Layered, subtle by default, intensity-scalable
- Motion: Smooth, purposeful, skippable

**Color Palette**
- Primary: oklch(0.65 0.18 145)
- Primary Glow: oklch(0.7 0.22 145)
- Chrome: oklch(0.75 0.01 260)
- Chrome Dark: oklch(0.55 0.02 260)
- Background: oklch(0.08 0.01 145)
- Card: oklch(0.11 0.015 145)
- Text: oklch(0.95 0.01 145)
- Muted: oklch(0.55 0.02 145)
